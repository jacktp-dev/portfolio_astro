---
import IconArrow from "../icons/IconArrow.astro"
import CardPortfolio from "./components/CardPortfolio.astro"
---

<section id="portafolio" class=" flex flex-col max-w-screen-xl p-8 w-full m-8 my-16 gap-8 items-start justify-center overflow-x-hidden">
    <section class="title flex flex-col gap-2">
        <h2 class="text-xl text-subtitle-color">
            Portafolio
        </h2>

        <p class=" text-4xl text-title-color">
            Ã‰chale un vistazo a mis trabajos
        </p>
    </section>

    <section class="wrap-projects max-w-full flex flex-row flex-nowrap overflow-x-scroll py-8 gap-10 justify-start items-start">
        
        <CardPortfolio
            name="Grace Aesthetic"
            url="https://www.graceaesthetic.com"
            category="Desarrollo web"
            image="/project-one.png"
        >

        </CardPortfolio>

        <CardPortfolio
            name="Candela Organic"
            url="https://www.candelaorganic.com"
            category="Desarrollo web"
            image="/project-two.png"
        >

        </CardPortfolio>

        <CardPortfolio
            name="Plataforma Social Tangarana"
            url="https://www.pstangarana.com"
            category="Desarrollo web"
            image="/project-three.png"
        >

        </CardPortfolio>

        <CardPortfolio
            name="Grace Aesthetic"
            url="https://www.graceaesthetic.com"
            category="Desarrollo web"
            image=""
        >

        </CardPortfolio>


        </CardPortfolio>
        <div class="hidden md:flex gap-4 self-center">
            <button class="arrow-back self-center w-10 h-10 bg-transparent flex justify-center items-center rounded-3xl text-text-color -translate-y-10 transition-all rotate-180">
                <IconArrow/>
            </button>
            
            <button class="arrow z-50  self-center w-10 h-10 bg-title-color flex justify-center items-center rounded-3xl text-white -translate-y-10 transition-all">
                <IconArrow/>
            </button>
        </div>
        
    </section>
    
</section>

<script>
    const arrow = document.querySelector('.arrow');
    const arrow_back = document.querySelector('.arrow-back');
    arrow.addEventListener('click',()=>{
        const projects_slider= document.querySelector('.wrap-projects');

        projects_slider.scrollLeft += 360

        if(projects_slider.scrollWidth >= 200){
            arrow.classList.replace("bg-title-color","bg-transparent");
            arrow.classList.replace("text-white","text-text-color");

            arrow_back.classList.replace("bg-transparent","bg-title-color");
            arrow_back.classList.replace("text-text-color","text-white");
        }
    })

    arrow_back.addEventListener('click',()=>{
        const projects_slider= document.querySelector('.wrap-projects');

        projects_slider.scrollLeft -= 360

        if(projects_slider.scrollLeft <= 320){
            arrow_back.classList.replace("bg-title-color","bg-transparent");
            arrow_back.classList.replace("text-white","text-text-color");

            arrow.classList.replace("bg-transparent","bg-title-color");
            arrow.classList.replace("text-text-color","text-white");
            
        }
    })
</script>


